ggplot(cv_grid) +
geom_point(aes(x=k, y=err),color= '#4682b4') +
geom_errorbar(aes(x=k, ymin = err-std_err, ymax = err+std_err)) +
scale_x_log10()+
ggtitle("Cross-validated errors per k values") + ylab("Mean RMSE")
## Trees
load.tree2 = rpart(medianHouseValue ~ .-fold_id , data=CAhousing2,
control = rpart.control(cp = 0.00001))
(rpart)
library(rpart)
library(rpart.plot)
load.tree2 = rpart(medianHouseValue ~ .-fold_id , data=CAhousing2,
control = rpart.control(cp = 0.00001))
# cross-validated error plot.
# the result is VERY typical of tree models:
# an initial sharp drop followed by a long flat plateau and then a slow rise.
plotcp(load.tree2)
# the vertical bars show the standard error of CV error across the 10 splits
plotcp(load.tree2, ylim=c(0.26, 0.28))
# cross-validated error has clearly bottomed out somewhere around cp = 1e-5
# but cp around 5e-5 gives very similar results (within 1 se of minimum)
# you could squint at the table...
cx1 = as.data.frame(printcp(load.tree2))
printcp(load.tree2)
# a handy function for picking the smallest tree
# whose CV error is within 1 std err of the minimum
cp_1se = function(my_tree) {
out = as.data.frame(my_tree$cptable)
thresh = min(out$xerror + out$xstd)
cp_opt = max(out$CP[out$xerror <= thresh])
cp_opt
}
cp_1se(load.tree2)
# this function actually prunes the tree at that level
prune_1se = function(my_tree) {
out = as.data.frame(my_tree$cptable)
thresh = min(out$xerror + out$xstd)
cp_opt = max(out$CP[out$xerror <= thresh])
prune(my_tree, cp=cp_opt)
}
# let's prune our tree at the 1se complexity level
load.tree2_prune = prune_1se(load.tree2)
# plot the predictions with this deeper (but still pruned) tree
CAhousing3 = CAhousing2 %>%
mutate(value_pred = predict(load.tree2_prune),pred_error=(medianHouseValue-value_pred)^2) %>%
arrange(medianHouseValue)
CAhousing3 = CAhousing3 %>%
mutate(below_above=ifelse(sqrt(pred_error) >= 60000, 1, 0))
sqrt(mean(CAhousing3$pred_error))
err_save3 = matrix(0, nrow=1, ncol=10)
### Separate Crossfold for minimum tree
for(i in 1:K_folds) {
train_set = which(CAhousing2$fold_id != i)
y_test = CAhousing2$medianHouseValue[-train_set]
load.tree2_pruneloop = rpart(medianHouseValue ~ .-fold_id , data=CAhousing2[train_set,],control = rpart.control(cp = 0.00006003052))
# Predictions out of sample
# Root mean squared error
err_save3[1, i] =rmse(load.tree2_pruneloop, data=CAhousing2[-train_set,])
}
err_save3 = as.data.frame(err_save3)
err_save3 = err_save3 %>%
mutate(err_save3, mean = (V1+V2+V3+V4+V5+V6+V7+V8+V9+V10)/K_folds)
ggplot() +
geom_point(data=CAhousing3,aes(x=longitude,y=latitude,color=below_above),size= 1) +
scale_color_continuous(type = "viridis")+
theme_bw()
ggplot(CA_tracts) +
geom_sf() +
geom_label_repel(
data = head(CA_tracts),
aes(label = NAME, geometry = geometry),
stat = "sf_coordinates",
min.segment.length = 0)+
geom_point(data=CAhousing3,aes(x=longitude,y=latitude,color=below_above),size= 1) +
scale_color_continuous(type = "viridis")+
theme_bw()
ggplot(CA_tracts) +
geom_sf() +
geom_label_repel(
data = head(CA_tracts),
aes(label = NAME, geometry = geometry),
stat = "sf_coordinates",
min.segment.length = 1)+
geom_point(data=CAhousing3,aes(x=longitude,y=latitude,color=below_above),size= 1) +
scale_color_continuous(type = "viridis")+
theme_bw()
ggplot(CA_tracts) +
geom_sf() +
geom_label_repel(
data = CA_tracts,
aes(label = NAME, geometry = geometry),
stat = "sf_coordinates",
min.segment.length = 1)+
geom_point(data=CAhousing3,aes(x=longitude,y=latitude,color=below_above),size= 1) +
scale_color_continuous(type = "viridis")+
theme_bw()
ggplot(CA_tracts) +
geom_sf() +
geom_label_repel(
data = c('Sacramento'),
aes(label = NAME, geometry = geometry),
stat = "sf_coordinates",
min.segment.length = 1)+
geom_point(data=CAhousing3,aes(x=longitude,y=latitude,color=below_above),size= 1) +
scale_color_continuous(type = "viridis")+
theme_bw()
ggplot(CA_tracts) +
geom_sf() +
geom_label_repel(
data = c("Sacramento"),
aes(label = NAME, geometry = geometry),
stat = "sf_coordinates",
min.segment.length = 1)+
geom_point(data=CAhousing3,aes(x=longitude,y=latitude,color=below_above),size= 1) +
scale_color_continuous(type = "viridis")+
theme_bw()
importantcities = CA_tracts[ifelse(NAME=="Sacramento"),]
importantcities = CA_tracts[ifelse(CA_tracts$NAME=="Sacramento"),]
importantcities = CA_tracts  %>%
filter(CA_tracts$NAME=="Sacramento")
View(importantcities)
importantcities = CA_tracts  %>%
filter(NAME=="Sacramento")
importantcities = CA_tracts  %>%
filter(NAME=="Sacramento" || NAME=="Los Angeles" || NAME=="San Diego"|| NAME=="San Francisco" )
importantcities = CA_tracts  %>%
filter(NAME=="Sacramento" | NAME=="Los Angeles" | NAME=="San Diego" | NAME=="San Francisco" )
View(importantcities)
ggplot(CA_tracts) +
geom_sf() +
geom_label_repel( data = importantcities,
aes(label = NAME, geometry = geometry),
stat = "sf_coordinates",
min.segment.length = 1)+
geom_point(data=CAhousing3,aes(x=longitude,y=latitude,color=below_above),size= 1) +
scale_color_continuous(type = "viridis")+
theme_bw()
ggplot(CA_tracts) +
geom_sf() +
geom_text_repel(data = importantcities, aes(x = INTPTLOG, y = INTPTLAT, label = NAME),
fontface = "bold", nudge_x = c(1, -1.5, 2, 2, -1), nudge_y = c(0.25,-0.25, 0.5, 0.5, -0.5))+
geom_point(data=CAhousing3,aes(x=longitude,y=latitude,color=below_above),size= 1) +
scale_color_continuous(type = "viridis")+
theme_bw()
ggplot(CA_tracts) +
geom_sf() +
geom_text_repel(data = importantcities, aes(x = INTPTLON, y = INTPTLAT, label = NAME),
fontface = "bold", nudge_x = c(1, -1.5, 2, 2, -1), nudge_y = c(0.25,-0.25, 0.5, 0.5, -0.5))+
geom_point(data=CAhousing3,aes(x=longitude,y=latitude,color=below_above),size= 1) +
scale_color_continuous(type = "viridis")+
theme_bw()
ggplot(CA_tracts) +
geom_sf() +
geom_text_repel(data = importantcities, aes(x = INTPTLON, y = INTPTLAT, label = NAME),
fontface = "bold", nudge_x = c(1, -1.5, 2, 2, -1), nudge_y = c(0.25,-0.25, 0.5, 0.5, -0.5))+
coord_sf(xlim = c(-125, -114), ylim = c(32, 42), expand = FALSE)+
geom_point(data=CAhousing3,aes(x=longitude,y=latitude,color=below_above),size= 1) +
scale_color_continuous(type = "viridis")+
theme_bw()
ggplot(CA_tracts) +
geom_sf() +
geom_text_repel(data = importantcities, aes(x = INTPTLAT, y = INTPTLON, label = NAME),
fontface = "bold", nudge_x = c(1, -1.5, 2, 2, -1), nudge_y = c(0.25,-0.25, 0.5, 0.5, -0.5))+
coord_sf(xlim = c(-125, -114), ylim = c(32, 42), expand = FALSE)+
geom_point(data=CAhousing3,aes(x=longitude,y=latitude,color=below_above),size= 1) +
scale_color_continuous(type = "viridis")+
theme_bw()
ggplot(CA_tracts) +
geom_sf() +
geom_text_repel(data = importantcities, aes(x = INTPTLAT, y = INTPTLON, label = NAME),
fontface = "bold", nudge_x = c(1, -1.5, 2, 2, -1), nudge_y = c(0.25,-0.25, 0.5, 0.5, -0.5))+
coord_sf(xlim = c(-125, -114), ylim = c(32, 42), expand = FALSE)+
geom_point(data=CAhousing3,aes(x=longitude,y=latitude,color=below_above),size= 1) +
scale_color_continuous(type = "viridis")+
theme_bw()
ggplot(CA_tracts) +
geom_sf() +
geom_text_repel(data = importantcities, aes(x = INTPTLAT, y = INTPTLON, label = NAME),
fontface = "bold", nudge_x = c(1, -1.5, 2, 2, -1), nudge_y = c(0.25,-0.25, 0.5, 0.5, -0.5))+
coord_sf(xlim = c(-125, -114), ylim = c(32, 42), expand = FALSE)+
geom_point(data=CAhousing3,aes(x=longitude,y=latitude,color=below_above),size= 1) +
scale_color_continuous(type = "viridis")+
theme_bw()
ggplot(CA_tracts) +
geom_sf() +
geom_text_repel(data = importantcities, aes(x = INTPTLAT, y = INTPTLON, label = NAME),
nudge_x = c(1, -1.5, 2, 2, -1), nudge_y = c(0.25,-0.25, 0.5, 0.5, -0.5))+
coord_sf(xlim = c(-125, -114), ylim = c(32, 42), expand = FALSE)+
geom_point(data=CAhousing3,aes(x=longitude,y=latitude,color=below_above),size= 1) +
scale_color_continuous(type = "viridis")+
theme_bw()
ggplot(CA_tracts) +
geom_sf() +
geom_text_repel(data = importantcities, aes(x = INTPTLAT, y = INTPTLON, label = NAME))+
coord_sf(xlim = c(-125, -114), ylim = c(32, 42), expand = FALSE)+
geom_point(data=CAhousing3,aes(x=longitude,y=latitude,color=below_above),size= 1) +
scale_color_continuous(type = "viridis")+
theme_bw()
ggplot(CA_tracts) +
geom_sf() +
geom_text_repel(data = importantcities, aes(x = INTPTLAT, y = INTPTLON, label = NAME))+
coord_sf(xlim = c(-125, -114), ylim = c(32, 42), expand = FALSE)+
geom_point(data=CAhousing3,aes(x=longitude,y=latitude,color=below_above),size= 1) +
scale_color_continuous(type = "viridis")+
theme_bw()
ggplot(CA_tracts) +
geom_sf() +
geom_text_repel(data = importantcities, aes(x = INTPTLAT, y = INTPTLON, label = NAME))+
coord_sf(xlim = c(-114, -125), ylim = c(32, 42), expand = FALSE)+
geom_point(data=CAhousing3,aes(x=longitude,y=latitude,color=below_above),size= 1) +
scale_color_continuous(type = "viridis")+
theme_bw()
ggplot(CA_tracts) +
geom_sf() +
geom_text_repel(data = importantcities, aes(geometry = geometry, label = NAME))+
coord_sf(xlim = c(-114, -125), ylim = c(32, 42), expand = FALSE)+
geom_point(data=CAhousing3,aes(x=longitude,y=latitude,color=below_above),size= 1) +
scale_color_continuous(type = "viridis")+
theme_bw()
ggplot(CA_tracts) +
geom_sf() +
geom_text_repel(data = importantcities, aes(x = INTPTLAT, y = INTPTLON, label = NAME))+
coord_sf(xlim = c(-114, -125), ylim = c(32, 42), expand = FALSE)+
geom_point(data=CAhousing3,aes(x=longitude,y=latitude,color=below_above),size= 1) +
scale_color_continuous(type = "viridis")+
theme_bw()
ggplot(CA_tracts) +
geom_sf() + geom_label_repel(data = importantcities,
aes(label = NAME, geometry = geometry),
stat = "sf_coordinates",
min.segment.length = 1)+
geom_point(data=CAhousing3,aes(x=longitude,y=latitude,color=below_above),size= 1) +
scale_color_continuous(type = "viridis")+
theme_bw()
ggplot(CA_tracts) +
geom_sf() + geom_label_repel(data = importantcities,
aes(label = NAME, geometry = geometry),
stat = "sf_coordinates",
min.segment.length = 1,size = 2,
point.padding = unit(0.5, "lines"))+
geom_point(data=CAhousing3,aes(x=longitude,y=latitude,color=below_above),size= 1) +
scale_color_continuous(type = "viridis")+
theme_bw()
ggplot(CA_tracts) +
geom_sf() + geom_label_repel(data = importantcities,
aes(label = NAME, geometry = geometry),
stat = "sf_coordinates",
min.segment.length = 1,size = 2,
point.padding = unit(2, "lines"))+
geom_point(data=CAhousing3,aes(x=longitude,y=latitude,color=below_above),size= 1) +
scale_color_continuous(type = "viridis")+
theme_bw()
ggplot(CA_tracts) +
geom_sf() + geom_label_repel(data = importantcities,
aes(label = NAME, geometry = geometry),
stat = "sf_coordinates",
min.segment.length = 1,size = 1,
point.padding = unit(2, "lines"))+
geom_point(data=CAhousing3,aes(x=longitude,y=latitude,color=below_above),size= 1) +
scale_color_continuous(type = "viridis")+
theme_bw()
ggplot(CA_tracts) +
geom_sf() + geom_label_repel(data = importantcities,
aes(label = NAME, geometry = geometry),
stat = "sf_coordinates",
min.segment.length = 1,size = 1.5,
point.padding = unit(5, "lines"))+
geom_point(data=CAhousing3,aes(x=longitude,y=latitude,color=below_above),size= 1) +
scale_color_continuous(type = "viridis")+
theme_bw()
ggplot(CA_tracts) +
geom_sf() + geom_label_repel(data = importantcities,
aes(label = NAME, geometry = geometry),
stat = "sf_coordinates",
min.segment.length = 1,size = 1.5,
point.padding = unit(6, "lines"))+
geom_point(data=CAhousing3,aes(x=longitude,y=latitude,color=below_above),size= 1) +
scale_color_continuous(type = "viridis")+
theme_bw()
ggplot(CA_tracts) +
geom_sf() + geom_label_repel(data = importantcities,
aes(label = NAME, geometry = geometry),
stat = "sf_coordinates",
min.segment.length = 1,size = 2,
point.padding = unit(1, "lines"))+
geom_point(data=CAhousing3,aes(x=longitude,y=latitude,color=below_above),size= 1) +
scale_color_continuous(type = "viridis")+
theme_bw()
ggplot(CA_tracts) +
geom_sf() + geom_label_repel(data = importantcities,
aes(label = NAME, geometry = geometry),
stat = "sf_coordinates",
min.segment.length = 1,size = 2,
point.padding = unit(1, "lines"),label.size=NA)+
geom_point(data=CAhousing3,aes(x=longitude,y=latitude,color=below_above),size= 1) +
scale_color_continuous(type = "viridis")+
theme_bw()
ggplot(CA_tracts) +
geom_sf() + geom_label_repel(data = importantcities,
aes(label = NAME, geometry = geometry),
stat = "sf_coordinates",
min.segment.length = 1,size = 2,
point.padding = unit(1, "lines"),label.size=NA,seed = 1234)+
geom_point(data=CAhousing3,aes(x=longitude,y=latitude,color=below_above),size= 1) +
scale_color_continuous(type = "viridis")+
theme_bw()
ggplot(CA_tracts) +
geom_sf() + geom_label_repel(data = importantcities,
aes(label = NAME, geometry = geometry),
stat = "sf_coordinates",size = 3,
point.padding = unit(1, "lines"),label.size=NA,seed = 1234)+
geom_point(data=CAhousing3,aes(x=longitude,y=latitude,color=below_above),size= 1) +
scale_color_continuous(type = "viridis")+
theme_bw()
ggplot(CA_tracts) +
geom_sf() + geom_label_repel(data = importantcities,
aes(label = NAME, geometry = geometry),
stat = "sf_coordinates",size = 3,
point.padding = 0.5,label.size=NA,seed = 1234)+
geom_point(data=CAhousing3,aes(x=longitude,y=latitude,color=below_above),size= 1) +
scale_color_continuous(type = "viridis")+
theme_bw()
ggplot(CA_tracts) +
geom_sf() + geom_label_repel(data = importantcities,
aes(label = NAME, geometry = geometry),
stat = "sf_coordinates",size = 3,
point.padding = 1,label.size=NA,seed = 1234)+
geom_point(data=CAhousing3,aes(x=longitude,y=latitude,color=below_above),size= 1) +
scale_color_continuous(type = "viridis")+
theme_bw()
ggplot(CA_tracts) +
geom_sf() + geom_label_repel(data = importantcities,
aes(label = NAME, geometry = geometry),
stat = "sf_coordinates",size = 3,
point.padding = 3,label.size=NA,seed = 1234)+
geom_point(data=CAhousing3,aes(x=longitude,y=latitude,color=below_above),size= 1) +
scale_color_continuous(type = "viridis")+
theme_bw()
ggplot(CA_tracts) +
geom_sf() + geom_label_repel(data = importantcities,
aes(label = NAME, geometry = geometry),
stat = "sf_coordinates",size = 3,
point.padding = 3,label.size=NA,seed = 1234,fontface = 'bold')+
geom_point(data=CAhousing3,aes(x=longitude,y=latitude,color=below_above),size= 1) +
scale_color_continuous(type = "viridis")+
theme_bw()
ggplot(CA_tracts) +
geom_sf() + geom_label_repel(data = importantcities,
aes(label = NAME, geometry = geometry),
stat = "sf_coordinates",size = 3,
point.padding = 3,label.size=NA,seed = 1234,fontface = 'bold', nudge_x = 0.15,
nudge_y = 1)+
geom_point(data=CAhousing3,aes(x=longitude,y=latitude,color=below_above),size= 1) +
scale_color_continuous(type = "viridis")+
theme_bw()
ggplot(CA_tracts) +
geom_sf() + geom_label_repel(data = importantcities,
aes(label = NAME, geometry = geometry),
stat = "sf_coordinates",size = 2,
point.padding = 3,label.size=NA,seed = 1234,fontface = 'bold', nudge_x = 7,
nudge_y = 8)+
geom_point(data=CAhousing3,aes(x=longitude,y=latitude,color=below_above),size= 1) +
scale_color_continuous(type = "viridis")+
theme_bw()
ggplot(CA_tracts) +
geom_sf() + geom_label_repel(data = importantcities,
aes(label = NAME, geometry = geometry),
stat = "sf_coordinates",size = 1,
point.padding = 3,alpha = 0.75,seed = 1234,fontface = 'bold')+
geom_point(data=CAhousing3,aes(x=longitude,y=latitude,color=below_above),size= 1) +
scale_color_continuous(type = "viridis")+
theme_bw()
ggplot(CA_tracts) +
geom_sf() + geom_label_repel(data = importantcities,
aes(label = NAME, geometry = geometry),
stat = "sf_coordinates",size = 1.5,
point.padding = 3,alpha = 1,seed = 1234,fontface = 'bold')+
geom_point(data=CAhousing3,aes(x=longitude,y=latitude,color=below_above),size= 1) +
scale_color_continuous(type = "viridis")+
theme_bw()
ggplot(CA_tracts) +
geom_sf() +
geom_point(data=CAhousing3,aes(x=longitude,y=latitude,color=below_above),size= 1) +
scale_color_continuous(type = "viridis")+
theme_bw()
CAhousing3 = CAhousing3 %>%
mutate(below_above=as.factor(ifelse(sqrt(pred_error) >= 60000, 1, 0)))
ggplot() +
geom_point(data=CAhousing3,aes(x=longitude,y=latitude,color=below_above),size= 1) +
scale_color_continuous(type = "viridis")+
theme_bw()
ggplot() +
geom_point(data=CAhousing3,aes(x=longitude,y=latitude,color=below_above),size= 1) +
scale_fill_hue()+
theme_bw()
ggplot() +
geom_point(data=CAhousing3,aes(x=longitude,y=latitude,color=below_above),size= 1) +
scale_fill_discrete(type = "viridis")+
theme_bw()
ggplot() +
geom_point(data=CAhousing3,aes(x=longitude,y=latitude,color=below_above),size= 1) +
scale_fill_discrete(name = "viridis")+
theme_bw()
ggplot() +
geom_point(data=CAhousing3,aes(x=longitude,y=latitude,color=below_above),size= 1) +
scale_colour_viridis_d()+
theme_bw()
ggplot(CA_tracts) +
geom_sf() +
geom_point(data=CAhousing3,aes(x=longitude,y=latitude,color=below_above),size= 1) +
scale_color_continuous(type = "viridis")+
theme_bw()
ggplot(CA_tracts) +
geom_sf() +
geom_point(data=CAhousing3,aes(x=longitude,y=latitude,color=below_above),size= 1) +
scale_colour_viridis_d()+
theme_bw()
View(err_save3)
View(err_save2)
View(cv_grid)
CAhousing3 = CAhousing3 %>%
mutate(above60k=as.factor(ifelse(sqrt(pred_error) >= 60000, 1, 0)))
ggplot(CA_tracts) +
geom_sf() +
geom_point(data=CAhousing3,aes(x=longitude,y=latitude,color=below_above),size= 1) +
scale_colour_viridis_d()+
theme_bw() ++
theme(legend.position = c(0.87, 0.25))
ggplot(CA_tracts) +
geom_sf() +
geom_point(data=CAhousing3,aes(x=longitude,y=latitude,color=below_above),size= 1) +
scale_colour_viridis_d()+
theme_bw() +
theme(legend.position = c(0.87, 0.25))
ggplot(CA_tracts) +
geom_sf() +
geom_point(data=CAhousing3,aes(x=longitude,y=latitude,color=below_above),size= 1) +
scale_colour_viridis_d()+
theme_bw() +
theme(legend.key.size = unit(2, 'cm'),legend.position = c(3, 0.25))
ggplot(CA_tracts) +
geom_sf() +
geom_point(data=CAhousing3,aes(x=longitude,y=latitude,color=below_above),size= 1) +
scale_colour_viridis_d()+
theme_bw() +
theme(legend.key.size = unit(2, 'cm'),legend.position = c(1, 0.25))
ggplot(CA_tracts) +
geom_sf() +
geom_point(data=CAhousing3,aes(x=longitude,y=latitude,color=below_above),size= 1) +
scale_colour_viridis_d()+
theme_bw() +
theme(legend.key.size = unit(0.2, 'cm'),legend.position = c(1, 0.25))
ggplot(CA_tracts) +
geom_sf() +
geom_point(data=CAhousing3,aes(x=longitude,y=latitude,color=above60k),size= 1) +
scale_colour_viridis_d()+
theme_bw() +
theme(legend.key.size = unit(0.2, 'cm'),legend.position = c(2, 0.25))
ggplot(CA_tracts) +
geom_sf() +
geom_point(data=CAhousing3,aes(x=longitude,y=latitude,color=above60k),size= 1) +
scale_colour_viridis_d()+
theme_bw() +
theme(legend.key.size = unit(0.2, 'cm'),legend.position = c(0, 0))
ggplot(CA_tracts) +
geom_sf() +
geom_point(data=CAhousing3,aes(x=longitude,y=latitude,color=above60k),size= 1) +
scale_colour_viridis_d()+
theme_bw() +
theme(legend.key.size = unit(0.1, 'cm'),legend.position = c(1, 1))
ggplot(CA_tracts) +
geom_sf() +
geom_point(data=CAhousing3,aes(x=longitude,y=latitude,color=above60k),size= 1) +
scale_colour_viridis_d()+
theme_bw() +
theme(legend.key.size = unit(0.2, 'cm'),legend.position = c(0.8, 0.8))
ggplot(CA_tracts) +
geom_sf() +
geom_point(data=CAhousing3,aes(x=longitude,y=latitude,color=above60k),size= 1) +
scale_colour_viridis_d()+
theme_bw() +
theme(legend.key.size = unit(0.4, 'cm'),legend.position = c(0.9, 0.9))
ggplot(CA_tracts) +
geom_sf() +
geom_point(data=CAhousing3,aes(x=longitude,y=latitude,color=above60k),size= 1) +
scale_colour_viridis_d()+
theme_bw() +
theme(legend.key.size = unit(0.7, 'cm'),legend.position = c(0.9, 0.9))
ggplot(CA_tracts) +
geom_sf() +
geom_point(data=CAhousing3,aes(x=longitude,y=latitude,color=above60k),size= 1) +
scale_colour_viridis_d()+
theme_bw() +
theme(legend.key.size = unit(0.7, 'cm'),legend.position = c(0.7, 0.6))
ggplot(CA_tracts) +
geom_sf() +
geom_point(data=CAhousing3,aes(x=longitude,y=latitude,color=above60k),size= 1) +
scale_colour_viridis_d()+
theme_bw() +
theme(legend.key.size = unit(0.7, 'cm'),legend.position = c(0.6, 0.7))
ggplot(CA_tracts) +
geom_sf() +
geom_point(data=CAhousing3,aes(x=longitude,y=latitude,color=above60k),size= 1) +
scale_colour_viridis_d()+
theme_bw() +
theme(legend.key.size = unit(0.7, 'cm'),legend.position = c(0.7, 0.7))
ggplot(CA_tracts) +
geom_sf() +
geom_point(data=CAhousing3,aes(x=longitude,y=latitude,color=above60k),size= 1.2) +
scale_colour_viridis_d()+
theme_bw() +
theme(legend.key.size = unit(0.7, 'cm'),legend.position = c(0.7, 0.7))
